<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFramework>net472</TargetFramework>
    <RootNamespace>Bannerlord.Harmony</RootNamespace>
    <ModuleName>Bannerlord.Harmony</ModuleName>
    <GITHUB_RUN_NUMBER Condition="$(GITHUB_RUN_NUMBER) == ''">.0</GITHUB_RUN_NUMBER>
  </PropertyGroup>

  <ItemGroup>
    <PackageReference Include="Bannerlord.ReferenceAssemblies.Core.EarlyAccess" Version="1.4.3.235842" />
    <PackageReference Include="Lib.Harmony" Version="*" />
  </ItemGroup>

  <Target Name="SetVersion" BeforeTargets="PrepareForBuild" DependsOnTargets="RunResolvePackageDependencies">
    <PropertyGroup>
      <Version Condition="'%(PackageDefinitions.Name)'=='Lib.Harmony'">%(PackageDefinitions.Version)$(GITHUB_RUN_NUMBER)</Version>
    </PropertyGroup>
  </Target>

</Project>